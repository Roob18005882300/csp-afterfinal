namespace SpriteKind {
    export const Player_Cos = SpriteKind.create()
    export const Image_Scene = SpriteKind.create()
    export const Weapon = SpriteKind.create()
}
sprites.onCreated(SpriteKind.Enemy, function (sprite) {
    Round_left.push(sprite)
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Jump_CNT == 0) {
        PlayerChar.vy = -300
        Jump_CNT += 1
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    Attack_Prog = 1
    if (Item_Var == 0) {
        Sword_Anims()
    }
    if (Item_Var == 1) {
    	
    }
})
function JumpInhibit () {
    if (Jump_CNT >= 1) {
        if (Jump_CNT == 1) {
            pause(600)
            Jump_CNT = 0
        } else {
            PlayerChar.setVelocity(0, 0)
        }
    }
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    Face = 1
    PlayerChar.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        e e e e e e e e e e e e e e . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        a a a a e e e e e e e e e e 2 . 
        a a a a a a a a a a a a a e . 2 
        a a a a a a a a a a a a a e 2 2 
        a a a a a a a a a a a a a a 2 2 
        a a a a a a a a a a a a a c 2 . 
        a a a a a a a a a a a a c c 2 . 
        a a a a a a a a a a a c c a . . 
        a a a a a a a a a a a c a c . . 
        a a c c a a a a a a a c a c . . 
        c c a a c c c c a a c a c a . . 
        c c c c c c c c c c c c c c . . 
        c c c c c c c c c c c c c c . . 
        `)
    Sword_Sprite.setImage(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        .dbb................
        .ddbbbbb......eaaa..
        ..dddbbbbbbbbbeaaa..
        ....ddddddddddeaaa..
        ..............ee....
        ....................
        `)
    if (Item_Var == 1) {
        Rifle.setImage(img`
            . . . . . . . . . . . . . . . . . . . . . . . . . 
            c . . . . . . . . . . . . . . . c . . . . . . . . 
            b b b b b b b b b b b f f b b b b b . . . b b b b 
            . . . . . . . e a a a e e e e e e e e c b b . . b 
            . . . . . . . . . . a c c . . a a a e c . . . . b 
            . . . . . . . . . . . c c . . . a a e c b b b b b 
            . . . . . . . . . . . c c . . . . . . . . . . . . 
            `)
    }
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    Face = 0
    PlayerChar.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . e e e e e e e e e e e e e e 
        . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        . 2 e e e e e e e e e e a a a a 
        2 . e a a a a a a a a a a a a a 
        2 2 e a a a a a a a a a a a a a 
        2 2 a a a a a a a a a a a a a a 
        . 2 c a a a a a a a a a a a a a 
        . 2 c c a a a a a a a a a a a a 
        . . a c c a a a a a a a a a a a 
        . . c a c a a a a a a a a a a a 
        . . c a c a a a a a a a c c a a 
        . . a c a c a a c c c c a a c c 
        . . c c c c c c c c c c c c c c 
        . . c c c c c c c c c c c c c c 
        `)
    Sword_Sprite.setImage(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ................bbd.
        ..aaae......bbbbbdd.
        ..aaaebbbbbbbbbddd..
        ..aaaedddddddddd....
        ....ee..............
        ....................
        `)
    if (Item_Var == 1) {
        Rifle.setImage(img`
            . . . . . . . . . . . . . . . . . . . . . . . . . 
            . . . . . . . . c . . . . . . . . . . . . . . . c 
            b b b b . . . b b b b b f f b b b b b b b b b b b 
            b . . b b c e e e e e e e e a a a e . . . . . . . 
            b . . . . c e a a a . . c c a . . . . . . . . . . 
            b b b b b c e a a . . . c c . . . . . . . . . . . 
            . . . . . . . . . . . . c c . . . . . . . . . . . 
            `)
    }
})
function FollowController () {
	
}
sprites.onOverlap(SpriteKind.Weapon, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (Attack_Prog > 0) {
        if (Face == 0) {
            animation.runImageAnimation(
            otherSprite,
            [img`
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                `,img`
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....2777777777777777....
                ....2277777777777777....
                ....e227777777777777....
                ....7722777777777777....
                ....7772277777777777....
                ....777ee22777777777....
                ....777777e222777777....
                ....77777777e2227777....
                ....777777777eee2222....
                ....7777777777777eee....
                ....7777777777777777....
                ....7777777777777777....
                `,img`
                ........................
                ........................
                ........................
                ........................
                ........................
                2......777777777777777..
                .222...777777777777777..
                .......277777777777777..
                .....22e27777777777777..
                2222.2.e27727777777777..
                .....2..e2777777777777..
                ....e....2277777777777..
                ....ee...2277777777777..
                ....7e2..2e22777777777..
                ....7772.2..e222777777..
                ....77722......e277777..
                ....777e2..2..eeeeeee2..
                ....777722...ee....22...
                ....772277e22e.2...2..2.
                ....22777777e2....2..2.2
                ....7777777772ee2222...2
                ....7777777772277eee...2
                ....7777777777777777....
                ....7777777777777777....
                `,img`
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ..........77777777777777
                ..........77777777777777
                ..........27777777777777
                ..........e2777777777777
                ...e......e2772777777777
                ...ee......e277777777777
                ...7e222....227777777777
                ...7772ee2..227777777777
                ...77722ee..2e2277777777
                ...777ee2ee.2..e22277777
                ....772e77222e.2..e27777
                ....227777e2e22..222eeee
                ....7777777222eee222e.22
                ....7777777772277eeeee.2
                ....7777777777777777....
                ....7777777777777777....
                `,img`
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ..........77777777777777
                ......e...77777777777777
                ..e..2e2..2e777777777777
                ..ee272ee2e2e77777777777
                ..7e7722eee2772777777777
                ..7777ee2e.e277777777777
                ..e7772e77..eee7777e7777
                ..e7227777.22277777ee777
                ...2222277.22e227777e777
                .77.77772222eee2e2277e77
                .7777eee7772222eeeeeee27
                2eeeee2eee222eeee222ee22
                `],
            200,
            false
            )
            pause(1000)
            otherSprite.destroy()
        } else {
            animation.runImageAnimation(
            otherSprite,
            [img`
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                `,img`
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777777....
                ....7777777777777772....
                ....7777777777777722....
                ....777777777777722e....
                ....7777777777772277....
                ....7777777777722777....
                ....77777777722ee777....
                ....777777222e777777....
                ....7777222e77777777....
                ....2222eee777777777....
                ....eee7777777777777....
                ....7777777777777777....
                ....7777777777777777....
                `,img`
                ........................
                ........................
                ........................
                ........................
                ........................
                ..777777777777777......2
                ..777777777777777...222.
                ..777777777777772.......
                ..77777777777772e22.....
                ..77777777772772e.2.2222
                ..7777777777772e..2.....
                ..7777777777722....e....
                ..7777777777722...ee....
                ..77777777722e2..2e7....
                ..777777222e..2.2777....
                ..777772e......22777....
                ..2eeeeeee..2..2e777....
                ...22....ee...227777....
                .2..2...2.e22e772277....
                2.2..2....2e77777722....
                2...2222ee2777777777....
                2...eee7722777777777....
                ....7777777777777777....
                ....7777777777777777....
                `,img`
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                77777777777777..........
                77777777777777..........
                77777777777772..........
                7777777777772e..........
                7777777772772e......e...
                777777777772e......ee...
                777777777722....222e7...
                777777777722..2ee2777...
                7777777722e2..ee22777...
                77777222e..2.ee2ee777...
                77772e..2.e22277e277....
                eeee222..22e2e777722....
                22.e222eee2227777777....
                2.eeeee7722777777777....
                ....7777777777777777....
                ....7777777777777777....
                `,img`
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                ........................
                77777777777777..........
                77777777777777...e......
                777777777777e2..2e2..e..
                77777777777e2e2ee272ee..
                7777777772772eee2277e7..
                777777777772e.e2ee7777..
                7777e7777eee..77e2777e..
                777ee77777222.7777227e..
                777e777722e22.7722222...
                77e7722e2eee22227777.77.
                72eeeeeee2222777eee7777.
                22ee222eeee222eee2eeeee2
                `],
            200,
            false
            )
            pause(1000)
            otherSprite.destroy()
        }
    }
})
function Gun_Fire () {
	
}
function Sword_Anims () {
    if (Face == 0) {
        animation.runImageAnimation(
        Sword_Sprite,
        [img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ................bbd.
            ..aaae......bbbbbdd.
            ..aaaebbbbbbbbbddd..
            ..aaaedddddddddd....
            ....ee..............
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ..........aaa.......
            ..........aaee......
            ...........eeb......
            ...........dbbbd....
            ...........dddd.....
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            .................d..
            ................bd..
            ................bd1.
            ................bd1.
            ...............bbd1.
            ..............bbdd1.
            .............bbbd.1.
            ............bbdd..1.
            ...........eedd...1.
            ..........aaed....1.
            ..........aae.....1.
            ...........a........
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            ..................1.
            ..................1.
            ..................1.
            ..................1.
            ..................1.
            ..................1.
            ..................1.
            ..................1.
            ..........aaa.....1.
            ..........aaee....1.
            ...........eeb...1..
            ...........dbbbb1...
            ...........ddddb1...
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ..................1.
            ........aa........1.
            .......aaa.......1..
            .......aaee.....1...
            ........eebb....1...
            ........dbbbb..1....
            .........ddd111.....
            ..........11........
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ..aaa...............
            ..aee...............
            ..ebb..1............
            ..dbb..1............
            ...dd111............
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ................bbd.
            ..aaae......bbbbbdd.
            ..aaaebbbbbbbbbddd..
            ..aaaedddddddddd....
            ....ee..............
            ....................
            `],
        75,
        false
        )
    }
    if (Face == 1) {
        animation.runImageAnimation(
        Sword_Sprite,
        [img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .dbb................
            .ddbbbbb......eaaa..
            ..dddbbbbbbbbbeaaa..
            ....ddddddddddeaaa..
            ..............ee....
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .......aaa..........
            ......eeaa..........
            ......bee...........
            ....dbbbd...........
            .....dddd...........
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ..d.................
            ..db................
            .1db................
            .1db................
            .1dbb...............
            .1ddbb..............
            .1.dbbb.............
            .1..ddbb............
            .1...ddee...........
            .1....deaa..........
            .1.....eaa..........
            ........a...........
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            .1..................
            .1..................
            .1..................
            .1..................
            .1..................
            .1..................
            .1..................
            .1..................
            .1.....aaa..........
            .1....eeaa..........
            ..1...bee...........
            ...1bbbbd...........
            ...1bdddd...........
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .1..................
            .1........aa........
            ..1.......aaa.......
            ...1.....eeaa.......
            ...1....bbee........
            ....1..bbbbd........
            .....111ddd.........
            ........11..........
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ...............aaa..
            ...............eea..
            ............1..bbe..
            ............1..bbd..
            ............111dd...
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .dbb................
            .ddbbbbb......eaaa..
            ..dddbbbbbbbbbeaaa..
            ....ddddddddddeaaa..
            ..............ee....
            ....................
            `],
        75,
        false
        )
    }
}
sprites.onDestroyed(SpriteKind.Player, function (sprite) {
    Round_left.shift()
})
controller.combos.attachCombo("A + B", function () {
    Zomb = sprites.create(img`
        ....................
        ....................
        ....................
        ....................
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        ..7777777777777777..
        `, SpriteKind.Enemy)
    Zomb.setPosition(PlayerChar.x + 30, PlayerChar.y - 15)
})
let Attack_Prog = 0
let Round_left: Sprite[] = []
let Zomb: Sprite = null
let Face = 0
let Rifle: Sprite = null
let Sword_Sprite: Sprite = null
let Item_Var = 0
let Jump_CNT = 0
let PlayerChar: Sprite = null
tiles.setCurrentTilemap(tilemap`BeginnerLvl`)
PlayerChar = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . e e e e e e e e e e e e e e 
    . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
    . 2 e e e e e e e e e e a a a a 
    2 . e a a a a a a a a a a a a a 
    2 2 e a a a a a a a a a a a a a 
    2 2 a a a a a a a a a a a a a a 
    . 2 c a a a a a a a a a a a a a 
    . 2 c c a a a a a a a a a a a a 
    . . a c c a a a a a a a a a a a 
    . . c a c a a a a a a a a a a a 
    . . c a c a a a a a a a c c a a 
    . . a c a c a a c c c c a a c c 
    . . c c c c c c c c c c c c c c 
    . . c c c c c c c c c c c c c c 
    `, SpriteKind.Player)
scene.cameraFollowSprite(PlayerChar)
PlayerChar.setPosition(4, 200)
Jump_CNT = 0
Item_Var = 1
Sword_Sprite = sprites.create(img`
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ................bbd.
    ..aaae......bbbbbdd.
    ..aaaebbbbbbbbbddd..
    ..aaaedddddddddd....
    ....ee..............
    ....................
    `, SpriteKind.Weapon)
Rifle = sprites.create(img`
    . . . . . . . . . . . . . . . . . . . . . . . . . 
    . . . . . . . . c . . . . . . . . . . . . . . . c 
    b b b b . . . b b b b b f f b b b b b b b b b b b 
    b . . b b c e e e e e e e e a a a e . . . . . . . 
    b . . . . c e a a a . . c c a . . . . . . . . . . 
    b b b b b c e a a . . . c c . . . . . . . . . . . 
    . . . . . . . . . . . . c c . . . . . . . . . . . 
    `, SpriteKind.Weapon)
controller.moveSprite(PlayerChar, 60, 0)
Face = 0
Zomb = sprites.create(img`
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    `, SpriteKind.Enemy)
Round_left = []
forever(function () {
    if (Item_Var == 0) {
        if (Face == 0) {
            Sword_Sprite.setPosition(PlayerChar.x + 13, PlayerChar.y + 0)
        } else if (Face == 1) {
            Sword_Sprite.setPosition(PlayerChar.x + -13, PlayerChar.y + 0)
        }
    }
    if (Item_Var == 1) {
        if (Face == 0) {
            Rifle.setPosition(PlayerChar.x + 10, PlayerChar.y + 3)
        } else if (Face == 1) {
            Rifle.setPosition(PlayerChar.x + -10, PlayerChar.y + 3)
        }
    }
})
forever(function () {
    JumpInhibit()
    FollowController()
    PlayerChar.ay = 1000
    Zomb.ay = 1000
})
forever(function () {
    info.setScore(Round_left.length)
})
forever(function () {
    if (PlayerChar.vx > 25) {
        PlayerChar.ax = 0
    } else if (PlayerChar.vx < -25) {
        PlayerChar.ax = 0
    }
})
forever(function () {
    if (Attack_Prog == 1) {
        pause(500)
        Attack_Prog = 0
    }
})
