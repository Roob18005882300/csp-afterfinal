namespace SpriteKind {
    export const Player_Cos = SpriteKind.create()
    export const Image_Scene = SpriteKind.create()
    export const Weapon = SpriteKind.create()
}
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Jump_CNT == 0) {
        PlayerChar.vy = -300
        Jump_CNT += 1
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (Face == 0) {
        animation.runImageAnimation(
        Sword_Sprite,
        [img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ................bbd.
            ..aaae......bbbbbdd.
            ..aaaebbbbbbbbbddd..
            ..aaaedddddddddd....
            ....ee..............
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ..........aaa.......
            ..........aaee......
            ...........eeb......
            ...........dbbbd....
            ...........dddd.....
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            .................d..
            ................bd..
            ................bd1.
            ................bd1.
            ...............bbd1.
            ..............bbdd1.
            .............bbbd.1.
            ............bbdd..1.
            ...........eedd...1.
            ..........aaed....1.
            ..........aae.....1.
            ...........a........
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            ..................1.
            ..................1.
            ..................1.
            ..................1.
            ..................1.
            ..................1.
            ..................1.
            ..................1.
            ..........aaa.....1.
            ..........aaee....1.
            ...........eeb...1..
            ...........dbbbb1...
            ...........ddddb1...
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ..................1.
            ........aa........1.
            .......aaa.......1..
            .......aaee.....1...
            ........eebb....1...
            ........dbbbb..1....
            .........ddd111.....
            ..........11........
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ..aaa...............
            ..aee...............
            ..ebb..1............
            ..dbb..1............
            ...dd111............
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ................bbd.
            ..aaae......bbbbbdd.
            ..aaaebbbbbbbbbddd..
            ..aaaedddddddddd....
            ....ee..............
            ....................
            `],
        75,
        false
        )
    }
    if (Face == 1) {
        animation.runImageAnimation(
        Sword_Sprite,
        [img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .dbb................
            .ddbbbbb......eaaa..
            ..dddbbbbbbbbbeaaa..
            ....ddddddddddeaaa..
            ..............ee....
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .......aaa..........
            ......eeaa..........
            ......bee...........
            ....dbbbd...........
            .....dddd...........
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ..d.................
            ..db................
            .1db................
            .1db................
            .1dbb...............
            .1ddbb..............
            .1.dbbb.............
            .1..ddbb............
            .1...ddee...........
            .1....deaa..........
            .1.....eaa..........
            ........a...........
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            .1..................
            .1..................
            .1..................
            .1..................
            .1..................
            .1..................
            .1..................
            .1..................
            .1.....aaa..........
            .1....eeaa..........
            ..1...bee...........
            ...1bbbbd...........
            ...1bdddd...........
            ....................
            ....................
            ....................
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .1..................
            .1........aa........
            ..1.......aaa.......
            ...1.....eeaa.......
            ...1....bbee........
            ....1..bbbbd........
            .....111ddd.........
            ........11..........
            ....................
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ...............aaa..
            ...............eea..
            ............1..bbe..
            ............1..bbd..
            ............111dd...
            ....................
            `,img`
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            ....................
            .dbb................
            .ddbbbbb......eaaa..
            ..dddbbbbbbbbbeaaa..
            ....ddddddddddeaaa..
            ..............ee....
            ....................
            `],
        75,
        false
        )
    }
})
function JumpInhibit () {
    if (Jump_CNT >= 1) {
        if (Jump_CNT == 1) {
            pause(600)
            Jump_CNT = 0
        } else {
            PlayerChar.setVelocity(0, 0)
        }
    }
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    Face = 1
    PlayerChar.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        e e e e e e e e e e e e e e . . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        a a a a e e e e e e e e e e 2 . 
        a a a a a a a a a a a a a e . 2 
        a a a a a a a a a a a a a e 2 2 
        a a a a a a a a a a a a a a 2 2 
        a a a a a a a a a a a a a c 2 . 
        a a a a a a a a a a a a c c 2 . 
        a a a a a a a a a a a c c a . . 
        a a a a a a a a a a a c a c . . 
        a a c c a a a a a a a c a c . . 
        c c a a c c c c a a c a c a . . 
        c c c c c c c c c c c c c c . . 
        c c c c c c c c c c c c c c . . 
        `)
    Sword_Sprite.setImage(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        .dbb................
        .ddbbbbb......eaaa..
        ..dddbbbbbbbbbeaaa..
        ....ddddddddddeaaa..
        ..............ee....
        ....................
        `)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    Face = 0
    PlayerChar.setImage(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . e e e e e e e e e e e e e e 
        . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
        . 2 e e e e e e e e e e a a a a 
        2 . e a a a a a a a a a a a a a 
        2 2 e a a a a a a a a a a a a a 
        2 2 a a a a a a a a a a a a a a 
        . 2 c a a a a a a a a a a a a a 
        . 2 c c a a a a a a a a a a a a 
        . . a c c a a a a a a a a a a a 
        . . c a c a a a a a a a a a a a 
        . . c a c a a a a a a a c c a a 
        . . a c a c a a c c c c a a c c 
        . . c c c c c c c c c c c c c c 
        . . c c c c c c c c c c c c c c 
        `)
    Sword_Sprite.setImage(img`
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ....................
        ................bbd.
        ..aaae......bbbbbdd.
        ..aaaebbbbbbbbbddd..
        ..aaaedddddddddd....
        ....ee..............
        ....................
        `)
})
function FollowController () {
	
}
sprites.onOverlap(SpriteKind.Weapon, SpriteKind.Enemy, function (sprite, otherSprite) {
	
})
controller.combos.attachCombo("A + B", function () {
    Zomb = sprites.create(img`
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
        `, SpriteKind.Enemy)
})
let Zomb: Sprite = null
let Face = 0
let Sword_Sprite: Sprite = null
let Jump_CNT = 0
let PlayerChar: Sprite = null
tiles.setCurrentTilemap(tilemap`BeginnerLvl`)
PlayerChar = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . e e e e e e e e e e e e e e 
    . 2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 
    . 2 e e e e e e e e e e a a a a 
    2 . e a a a a a a a a a a a a a 
    2 2 e a a a a a a a a a a a a a 
    2 2 a a a a a a a a a a a a a a 
    . 2 c a a a a a a a a a a a a a 
    . 2 c c a a a a a a a a a a a a 
    . . a c c a a a a a a a a a a a 
    . . c a c a a a a a a a a a a a 
    . . c a c a a a a a a a c c a a 
    . . a c a c a a c c c c a a c c 
    . . c c c c c c c c c c c c c c 
    . . c c c c c c c c c c c c c c 
    `, SpriteKind.Player)
scene.cameraFollowSprite(PlayerChar)
PlayerChar.setPosition(4, 200)
Jump_CNT = 0
let Item_Var = 0
Sword_Sprite = sprites.create(img`
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ....................
    ................bbd.
    ..aaae......bbbbbdd.
    ..aaaebbbbbbbbbddd..
    ..aaaedddddddddd....
    ....ee..............
    ....................
    `, SpriteKind.Weapon)
controller.moveSprite(PlayerChar, 60, 0)
Face = 0
Zomb = sprites.create(img`
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 
    `, SpriteKind.Enemy)
forever(function () {
    if (Item_Var == 0) {
        if (Face == 0) {
            Sword_Sprite.setPosition(PlayerChar.x + 13, PlayerChar.y + 0)
        } else if (Face == 1) {
            Sword_Sprite.setPosition(PlayerChar.x + -13, PlayerChar.y + 0)
        }
    }
})
forever(function () {
    JumpInhibit()
    FollowController()
    PlayerChar.ay = 1000
    Zomb.ay = 1000
})
forever(function () {
    info.setScore(PlayerChar.y)
})
forever(function () {
    if (PlayerChar.vx > 25) {
        PlayerChar.ax = 0
    } else if (PlayerChar.vx < -25) {
        PlayerChar.ax = 0
    }
})
